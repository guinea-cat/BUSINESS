æ ¹æ®ä½ æä¾›çš„ä»£ç ï¼ˆå°¤å…¶æ˜¯ `agent.py` å’Œ `utils.py`ï¼‰ï¼Œè¿™ä¸ªç³»ç»Ÿæ˜¯ä¸€ä¸ª**åŸºäºâ€œæ–‡æœ¬+è§†è§‰â€å¤šæ¨¡æ€èåˆä¸è”ç½‘æœç´¢çš„æ™ºèƒ½å•†ä¸šåˆ†æç³»ç»Ÿ**ã€‚

å®ƒçš„æ ¸å¿ƒå·¥ä½œæµå¯ä»¥åˆ†ä¸º **5 ä¸ªä¸»è¦é˜¶æ®µ**ã€‚é’ˆå¯¹ä½ æœ€å…³å¿ƒçš„ PDF å¤„ç†éƒ¨åˆ†ï¼Œæˆ‘åœ¨ç¬¬ 1 å’Œ ç¬¬ 2 é˜¶æ®µåšäº†æ·±åº¦æ‹†è§£ã€‚

---

### ğŸš€ å…¨æµç¨‹æ¦‚è§ˆ

1.  **è¾“å…¥è§£æ**ï¼šä¸Šä¼  PDFï¼Œåˆ†ç¦»æ–‡æœ¬ä¸å›¾ç‰‡ã€‚
2.  **è§†è§‰è½¬è¯‘**ï¼šåˆ©ç”¨å¤§æ¨¡å‹çœ‹æ‡‚å›¾è¡¨ï¼Œå°†å›¾ç‰‡è½¬åŒ–ä¸ºæ–‡å­—æè¿°ã€‚
3.  **ä¿¡æ¯èåˆä¸ç­–ç•¥ç”Ÿæˆ**ï¼šç»“åˆæ–‡æœ¬å’Œè§†è§‰æè¿°ï¼Œè¯†åˆ«èµ›é“å¹¶ç”Ÿæˆæœç´¢å…³é”®è¯ã€‚
4.  **å¤–éƒ¨æƒ…æŠ¥æœé›†**ï¼šåˆ©ç”¨ Google Search è·å–æœ€æ–°çš„å¸‚åœºæ•°æ®å’Œç«å“åŠ¨æ€ã€‚
5.  **æ·±åº¦æ¨ç†ä¸æŠ¥å‘Šç”Ÿæˆ**ï¼šæ±‡æ€»æ‰€æœ‰ä¿¡æ¯ï¼Œæ¨¡æ‹Ÿ VC è§†è§’ç”Ÿæˆæœ€ç»ˆç ”æŠ¥ã€‚

---

### ğŸ” è¯¦ç»†å·¥ä½œæµæ‹†è§£

#### ç¬¬ä¸€é˜¶æ®µï¼šPDF è§£æä¸é¢„å¤„ç† (Text & Image Extraction)
**ä»£ç ä½ç½®**ï¼š`utils.py` -> `extract_content_from_pdf`

è¿™æ˜¯æµç¨‹çš„èµ·ç‚¹ã€‚å½“ç”¨æˆ·åœ¨ `app.py` ä¸Šä¼ æ–‡ä»¶åï¼Œç³»ç»Ÿä½¿ç”¨ `PyMuPDF (fitz)` åº“æ‰“å¼€æ–‡ä»¶ã€‚

*   **1. çº¯æ–‡æœ¬æå–**ï¼š
    *   ç³»ç»Ÿéå†æ¯ä¸€é¡µ PDFã€‚
    *   ç›´æ¥ä½¿ç”¨ `page.get_text()` æå–æ–‡æ¡£ä¸­çš„æ‰€æœ‰å¯è¯»æ–‡å­—ã€‚
    *   **ç»“æœ**ï¼šå¾—åˆ°ä¸€ä¸ªå·¨å¤§çš„å­—ç¬¦ä¸² `full_text`ã€‚
*   **2. å›¾ç‰‡æå–ä¸ä¼˜åŒ–ï¼ˆå…³é”®æ­¥éª¤ï¼‰**ï¼š
    *   ç³»ç»Ÿä½¿ç”¨ `page.get_images()` æå–é¡µé¢ä¸­çš„æ‰€æœ‰åª’ä½“å¯¹è±¡ã€‚
    *   **è¿‡æ»¤**ï¼šè‡ªåŠ¨ä¸¢å¼ƒå°äº 5KB çš„å›¾ç‰‡ï¼ˆé€šå¸¸æ˜¯é¡µçœ‰ã€é¡µè„šçš„ Logo æˆ–è£…é¥°æ€§çº¿æ¡ï¼‰ï¼Œåªä¿ç•™æœ‰ä¿¡æ¯é‡çš„å›¾è¡¨ã€‚
    *   **å‹ç¼©ä¸æ¸…æ´— (PILå¤„ç†)**ï¼š
        *   **å°ºå¯¸ç¼©æ”¾**ï¼šå¦‚æœå›¾ç‰‡å®½åº¦è¶…è¿‡ 1024 åƒç´ ï¼Œä»£ç ä¼šå¼ºåˆ¶å°†å…¶ç­‰æ¯”ä¾‹ç¼©å°åˆ° 1024 å®½ï¼ˆå‡å°‘ Token æ¶ˆè€—ï¼Œé˜²æ­¢ API è¶…æ—¶ï¼‰ã€‚
        *   **æ ¼å¼è½¬æ¢**ï¼šå¼ºåˆ¶è½¬æ¢ä¸º JPEG æ ¼å¼ï¼Œå¹¶å°†ç”»è´¨å‹ç¼©ä¸º 75ï¼ˆQuality=75ï¼‰ã€‚
    *   **ç¼–ç **ï¼šå°†å¤„ç†åçš„å›¾ç‰‡è½¬æ¢ä¸º `Base64` ç¼–ç å­—ç¬¦ä¸²ã€‚
    *   **ç»“æœ**ï¼šå¾—åˆ°ä¸€ä¸ªå›¾ç‰‡åˆ—è¡¨ `bp_images`ã€‚

#### ç¬¬äºŒé˜¶æ®µï¼šè§†è§‰æ™ºèƒ½åˆ†æ (Visual Analysis)
**ä»£ç ä½ç½®**ï¼š`agent.py` -> `describe_visual_elements` (è°ƒç”¨ `utils.py`)

è¿™ä¸€æ­¥æ˜¯ä¸ºäº†è®© LLM "çœ‹è§" PDF é‡Œçš„é¥¼å›¾ã€å¢é•¿æ›²çº¿å’Œæ¶æ„å›¾ã€‚

*   **è¾“å…¥**ï¼šä¸Šä¸€æ­¥æå–çš„ `bp_images` (Base64 åˆ—è¡¨)ã€‚
*   **å¤„ç†**ï¼š
    *   ç³»ç»Ÿè°ƒç”¨é…ç½®ä¸­çš„è§†è§‰æ¨¡å‹ï¼ˆä»£ç ä¸­é…ç½®ä¸º `qwen-vl-plus`ï¼Œå³é€šä¹‰åƒé—® VLï¼‰ã€‚
    *   **Prompt**ï¼š`"è¿™æ˜¯ä¸€å¼ å•†ä¸šè®¡åˆ’ä¹¦ï¼ˆBPï¼‰ä¸­çš„å›¾ç‰‡ï¼Œè¯·åˆ†æå…¶ä¸­çš„å…³é”®ä¿¡æ¯ï¼ˆå¦‚æ•°æ®å›¾è¡¨è¶‹åŠ¿ã€å•†ä¸šæ¨¡å¼å›¾è§£...)"`ã€‚
    *   æ¨¡å‹ä¼šé€å¼ é˜…è¯»å›¾ç‰‡ï¼Œå¹¶ç”¨æ–‡å­—æè¿°å®ƒçœ‹åˆ°çš„å†…å®¹ï¼ˆä¾‹å¦‚ï¼šâ€œè¿™æ˜¯ä¸€å¼ 2020-2024å¹´çš„è¥æ”¶å¢é•¿æŸ±çŠ¶å›¾ï¼Œæ˜¾ç¤ºå¹´å‡å¢é•¿ç‡ä¸º30%...â€ï¼‰ã€‚
*   **è¾“å‡º**ï¼šå¾—åˆ°ä¸€æ®µåŒ…å«æ‰€æœ‰å›¾è¡¨ä¿¡æ¯çš„æ–‡æœ¬ `visual_descriptions`ã€‚

#### ç¬¬ä¸‰é˜¶æ®µï¼šå¤šæ¨¡æ€èåˆä¸èµ›é“æ„ŸçŸ¥ (Fusion & Detection)
**ä»£ç ä½ç½®**ï¼š`agent.py` -> `analyze_bp_pipeline`

*   **ä¸Šä¸‹æ–‡èåˆ**ï¼š
    *   ç³»ç»Ÿå°† **PDFåŸæ–‡æœ¬** + **è§†è§‰æè¿°æ–‡æœ¬** æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œç”Ÿæˆ `enhanced_text`ï¼ˆå¢å¼ºæ–‡æœ¬ï¼‰ã€‚
    *   *æ„ä¹‰*ï¼šå³ä½¿åŸ PDF æ–‡å­—å¾ˆå°‘ï¼ˆå…¨æ˜¯å›¾ï¼‰ï¼Œç³»ç»Ÿç°åœ¨ä¹Ÿèƒ½åŸºäºâ€œè§†è§‰æè¿°â€ç†è§£å†…å®¹ã€‚
*   **èµ›é“è¯†åˆ«**ï¼š
    *   LLM é˜…è¯» `enhanced_text` çš„å‰ 20,000 å­—ã€‚
    *   åˆ¤æ–­é¡¹ç›®å±äºå“ªä¸ªç»†åˆ†èµ›é“ï¼ˆä¾‹å¦‚ï¼šâ€œæ™ºæ…§åŒ»ç–— - AI è¾…åŠ©è¯Šæ–­â€ï¼‰ã€‚
*   **å…³é”®è¯ç”Ÿæˆ**ï¼š
    *   åŸºäºèµ›é“å’Œé¡¹ç›®å†…å®¹ï¼ŒLLM ç”Ÿæˆ 10 ä¸ªä¸­è‹±æ–‡æœç´¢å…³é”®è¯ï¼ˆä¾‹å¦‚ï¼š`"AI Medical Imaging market size"`, `"æŸæŸç«å“ revenue"`ï¼‰ã€‚

#### ç¬¬å››é˜¶æ®µï¼šå…¨ç½‘æƒ…æŠ¥æ£€ç´¢ (Web Search)
**ä»£ç ä½ç½®**ï¼š`agent.py` -> å¾ªç¯è°ƒç”¨ `utils.google_search`

*   ç³»ç»Ÿä½¿ç”¨ `Serper.dev` API å¯¹ç”Ÿæˆçš„å…³é”®è¯è¿›è¡Œ Google æœç´¢ã€‚
*   ç³»ç»Ÿè‡ªåŠ¨æŠ“å–æœç´¢ç»“æœçš„æ ‡é¢˜ã€æ‘˜è¦å’Œ URLã€‚
*   **æ•°æ®æ¸…æ´—**ï¼šç»™æ¯æ¡æœç´¢ç»“æœæ‰“ä¸Š `[S1]`, `[S2]` è¿™æ ·çš„å¼•ç”¨æ ‡ç­¾ï¼Œæ–¹ä¾¿åç»­ç”ŸæˆæŠ¥å‘Šæ—¶æº¯æºã€‚

#### ç¬¬äº”é˜¶æ®µï¼šVC æ¨¡æ‹Ÿä¸æŠ¥å‘Šç”Ÿæˆ (Final Synthesis)
**ä»£ç ä½ç½®**ï¼š`agent.py` -> `analyze_bp_pipeline` (LLM è°ƒç”¨)

è¿™æ˜¯å¤§è„‘æ€è€ƒçš„æœ€åä¸€æ­¥ã€‚

*   **è¾“å…¥ç»™ LLM (DeepSeek) çš„æœ€ç»ˆæç¤ºè¯åŒ…å«ä¸‰éƒ¨åˆ†**ï¼š
    1.  **ç³»ç»Ÿäººè®¾ (System Prompt)**ï¼šä½ æ˜¯ä¸€ä¸ªä¸¥å‰çš„ VC åˆä¼™äººï¼Œå¿…é¡»è¿›è¡Œå¼•ç”¨æº¯æºï¼Œå¿…é¡»è¿›è¡Œé£é™©æ‰¹åˆ¤ã€‚
    2.  **å¢å¼ºæ–‡æœ¬**ï¼šPDF åŸæ–‡ + å›¾è¡¨æè¿°ã€‚
    3.  **æœç´¢æƒ…æŠ¥**ï¼šGoogle æœåˆ°çš„å¸‚åœºæ•°æ®å’Œç«å“ä¿¡æ¯ã€‚
*   **ä»»åŠ¡**ï¼š
    *   æå–é¡¹ç›®ç”»åƒã€‚
    *   ç»“åˆæœç´¢åˆ°çš„æ•°æ®ï¼Œè®¡ç®—å¸‚åœºè§„æ¨¡ã€‚
    *   å¯»æ‰¾ç«å“ï¼ˆå¦‚æœ BP æ²¡å†™ï¼Œå°±ä»æœç´¢ç»“æœé‡Œæ‰¾ï¼‰ã€‚
    *   è¿›è¡Œâ€œVC çµé­‚æ‹·é—®â€ã€‚
    *   è¾“å‡ºä¸¥æ ¼çš„ JSON æ ¼å¼æ•°æ®ã€‚

#### ç¬¬å…­é˜¶æ®µï¼šå±•ç¤ºä¸æ¸²æŸ“
**ä»£ç ä½ç½®**ï¼š`app.py`

*   æ¥æ”¶ JSON æ•°æ®ã€‚
*   è§£æ JSONï¼Œå°†å…¶è½¬æ¢ä¸º Markdown æ ¼å¼ï¼ˆæ·»åŠ æ ‡é¢˜ã€åŠ ç²—ã€å¼•ç”¨ä¸Šæ ‡ï¼‰ã€‚
*   åœ¨æµè§ˆå™¨ç•Œé¢ï¼ˆGradioï¼‰å±•ç¤ºâ€œç ”æŠ¥è§†å›¾â€å’Œâ€œåŸå§‹æ•°æ®â€ã€‚

---

### âš¡ï¸ æ€»ç»“ï¼šæ•°æ®æµå‘å›¾

```mermaid
graph TD
    User[ç”¨æˆ·ä¸Šä¼  PDF] --> App[app.py]
    App --> Agent[agent.py: BusinessResearcher]
    
    subgraph PDFå¤„ç† [utils.py]
        Agent --> Extract{æå–å†…å®¹}
        Extract --> Text[çº¯æ–‡æœ¬]
        Extract --> ImgRaw[åŸå§‹å›¾ç‰‡]
        ImgRaw --> Optimize[ç¼©æ”¾+å‹ç¼© (JPEG Q75)]
        Optimize --> ImgBase64[Base64å›¾ç‰‡æµ]
    end
    
    subgraph è§†è§‰æ™ºèƒ½ [Vision Model]
        ImgBase64 --> VisionLLM[Qwen-VL-Plus]
        VisionLLM --> VisualDesc[è§†è§‰æè¿°æ–‡æœ¬]
    end
    
    subgraph èåˆä¸æœç´¢
        Text --> Merge((æ‹¼æ¥))
        VisualDesc --> Merge
        Merge --> EnhancedText[å¢å¼ºæ–‡æœ¬]
        
        EnhancedText --> Detect[è¯†åˆ«èµ›é“ & ç”Ÿæˆå…³é”®è¯]
        Detect --> SearchAPI[Google Search (Serper)]
        SearchAPI --> SearchData[å¤–éƒ¨æƒ…æŠ¥]
    end
    
    subgraph æœ€ç»ˆåˆ†æ [DeepSeek Chat]
        EnhancedText --> FinalPrompt
        SearchData --> FinalPrompt
        SystemPrompt --> FinalPrompt
        FinalPrompt --> MainLLM[DeepSeek V3]
        MainLLM --> JSON[åˆ†ææŠ¥å‘Š JSON]
    end
    
    JSON --> App
    App --> MarkDown[Markdown æ¸²æŸ“]
```æ ¹æ®ä½ æä¾›çš„ä»£ç ï¼ˆå°¤å…¶æ˜¯ `agent.py` å’Œ `utils.py`ï¼‰ï¼Œè¿™ä¸ªç³»ç»Ÿæ˜¯ä¸€ä¸ª**åŸºäºâ€œæ–‡æœ¬+è§†è§‰â€å¤šæ¨¡æ€èåˆä¸è”ç½‘æœç´¢çš„æ™ºèƒ½å•†ä¸šåˆ†æç³»ç»Ÿ**ã€‚

å®ƒçš„æ ¸å¿ƒå·¥ä½œæµå¯ä»¥åˆ†ä¸º **5 ä¸ªä¸»è¦é˜¶æ®µ**ã€‚é’ˆå¯¹ä½ æœ€å…³å¿ƒçš„ PDF å¤„ç†éƒ¨åˆ†ï¼Œæˆ‘åœ¨ç¬¬ 1 å’Œ ç¬¬ 2 é˜¶æ®µåšäº†æ·±åº¦æ‹†è§£ã€‚

---

### ğŸš€ å…¨æµç¨‹æ¦‚è§ˆ

1.  **è¾“å…¥è§£æ**ï¼šä¸Šä¼  PDFï¼Œåˆ†ç¦»æ–‡æœ¬ä¸å›¾ç‰‡ã€‚
2.  **è§†è§‰è½¬è¯‘**ï¼šåˆ©ç”¨å¤§æ¨¡å‹çœ‹æ‡‚å›¾è¡¨ï¼Œå°†å›¾ç‰‡è½¬åŒ–ä¸ºæ–‡å­—æè¿°ã€‚
3.  **ä¿¡æ¯èåˆä¸ç­–ç•¥ç”Ÿæˆ**ï¼šç»“åˆæ–‡æœ¬å’Œè§†è§‰æè¿°ï¼Œè¯†åˆ«èµ›é“å¹¶ç”Ÿæˆæœç´¢å…³é”®è¯ã€‚
4.  **å¤–éƒ¨æƒ…æŠ¥æœé›†**ï¼šåˆ©ç”¨ Google Search è·å–æœ€æ–°çš„å¸‚åœºæ•°æ®å’Œç«å“åŠ¨æ€ã€‚
5.  **æ·±åº¦æ¨ç†ä¸æŠ¥å‘Šç”Ÿæˆ**ï¼šæ±‡æ€»æ‰€æœ‰ä¿¡æ¯ï¼Œæ¨¡æ‹Ÿ VC è§†è§’ç”Ÿæˆæœ€ç»ˆç ”æŠ¥ã€‚

---

### ğŸ” è¯¦ç»†å·¥ä½œæµæ‹†è§£

#### ç¬¬ä¸€é˜¶æ®µï¼šPDF è§£æä¸é¢„å¤„ç† (Text & Image Extraction)
**ä»£ç ä½ç½®**ï¼š`utils.py` -> `extract_content_from_pdf`

è¿™æ˜¯æµç¨‹çš„èµ·ç‚¹ã€‚å½“ç”¨æˆ·åœ¨ `app.py` ä¸Šä¼ æ–‡ä»¶åï¼Œç³»ç»Ÿä½¿ç”¨ `PyMuPDF (fitz)` åº“æ‰“å¼€æ–‡ä»¶ã€‚

*   **1. çº¯æ–‡æœ¬æå–**ï¼š
    *   ç³»ç»Ÿéå†æ¯ä¸€é¡µ PDFã€‚
    *   ç›´æ¥ä½¿ç”¨ `page.get_text()` æå–æ–‡æ¡£ä¸­çš„æ‰€æœ‰å¯è¯»æ–‡å­—ã€‚
    *   **ç»“æœ**ï¼šå¾—åˆ°ä¸€ä¸ªå·¨å¤§çš„å­—ç¬¦ä¸² `full_text`ã€‚
*   **2. å›¾ç‰‡æå–ä¸ä¼˜åŒ–ï¼ˆå…³é”®æ­¥éª¤ï¼‰**ï¼š
    *   ç³»ç»Ÿä½¿ç”¨ `page.get_images()` æå–é¡µé¢ä¸­çš„æ‰€æœ‰åª’ä½“å¯¹è±¡ã€‚
    *   **è¿‡æ»¤**ï¼šè‡ªåŠ¨ä¸¢å¼ƒå°äº 5KB çš„å›¾ç‰‡ï¼ˆé€šå¸¸æ˜¯é¡µçœ‰ã€é¡µè„šçš„ Logo æˆ–è£…é¥°æ€§çº¿æ¡ï¼‰ï¼Œåªä¿ç•™æœ‰ä¿¡æ¯é‡çš„å›¾è¡¨ã€‚
    *   **å‹ç¼©ä¸æ¸…æ´— (PILå¤„ç†)**ï¼š
        *   **å°ºå¯¸ç¼©æ”¾**ï¼šå¦‚æœå›¾ç‰‡å®½åº¦è¶…è¿‡ 1024 åƒç´ ï¼Œä»£ç ä¼šå¼ºåˆ¶å°†å…¶ç­‰æ¯”ä¾‹ç¼©å°åˆ° 1024 å®½ï¼ˆå‡å°‘ Token æ¶ˆè€—ï¼Œé˜²æ­¢ API è¶…æ—¶ï¼‰ã€‚
        *   **æ ¼å¼è½¬æ¢**ï¼šå¼ºåˆ¶è½¬æ¢ä¸º JPEG æ ¼å¼ï¼Œå¹¶å°†ç”»è´¨å‹ç¼©ä¸º 75ï¼ˆQuality=75ï¼‰ã€‚
    *   **ç¼–ç **ï¼šå°†å¤„ç†åçš„å›¾ç‰‡è½¬æ¢ä¸º `Base64` ç¼–ç å­—ç¬¦ä¸²ã€‚
    *   **ç»“æœ**ï¼šå¾—åˆ°ä¸€ä¸ªå›¾ç‰‡åˆ—è¡¨ `bp_images`ã€‚

#### ç¬¬äºŒé˜¶æ®µï¼šè§†è§‰æ™ºèƒ½åˆ†æ (Visual Analysis)
**ä»£ç ä½ç½®**ï¼š`agent.py` -> `describe_visual_elements` (è°ƒç”¨ `utils.py`)

è¿™ä¸€æ­¥æ˜¯ä¸ºäº†è®© LLM "çœ‹è§" PDF é‡Œçš„é¥¼å›¾ã€å¢é•¿æ›²çº¿å’Œæ¶æ„å›¾ã€‚

*   **è¾“å…¥**ï¼šä¸Šä¸€æ­¥æå–çš„ `bp_images` (Base64 åˆ—è¡¨)ã€‚
*   **å¤„ç†**ï¼š
    *   ç³»ç»Ÿè°ƒç”¨é…ç½®ä¸­çš„è§†è§‰æ¨¡å‹ï¼ˆä»£ç ä¸­é…ç½®ä¸º `qwen-vl-plus`ï¼Œå³é€šä¹‰åƒé—® VLï¼‰ã€‚
    *   **Prompt**ï¼š`"è¿™æ˜¯ä¸€å¼ å•†ä¸šè®¡åˆ’ä¹¦ï¼ˆBPï¼‰ä¸­çš„å›¾ç‰‡ï¼Œè¯·åˆ†æå…¶ä¸­çš„å…³é”®ä¿¡æ¯ï¼ˆå¦‚æ•°æ®å›¾è¡¨è¶‹åŠ¿ã€å•†ä¸šæ¨¡å¼å›¾è§£...)"`ã€‚
    *   æ¨¡å‹ä¼šé€å¼ é˜…è¯»å›¾ç‰‡ï¼Œå¹¶ç”¨æ–‡å­—æè¿°å®ƒçœ‹åˆ°çš„å†…å®¹ï¼ˆä¾‹å¦‚ï¼šâ€œè¿™æ˜¯ä¸€å¼ 2020-2024å¹´çš„è¥æ”¶å¢é•¿æŸ±çŠ¶å›¾ï¼Œæ˜¾ç¤ºå¹´å‡å¢é•¿ç‡ä¸º30%...â€ï¼‰ã€‚
*   **è¾“å‡º**ï¼šå¾—åˆ°ä¸€æ®µåŒ…å«æ‰€æœ‰å›¾è¡¨ä¿¡æ¯çš„æ–‡æœ¬ `visual_descriptions`ã€‚

#### ç¬¬ä¸‰é˜¶æ®µï¼šå¤šæ¨¡æ€èåˆä¸èµ›é“æ„ŸçŸ¥ (Fusion & Detection)
**ä»£ç ä½ç½®**ï¼š`agent.py` -> `analyze_bp_pipeline`

*   **ä¸Šä¸‹æ–‡èåˆ**ï¼š
    *   ç³»ç»Ÿå°† **PDFåŸæ–‡æœ¬** + **è§†è§‰æè¿°æ–‡æœ¬** æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œç”Ÿæˆ `enhanced_text`ï¼ˆå¢å¼ºæ–‡æœ¬ï¼‰ã€‚
    *   *æ„ä¹‰*ï¼šå³ä½¿åŸ PDF æ–‡å­—å¾ˆå°‘ï¼ˆå…¨æ˜¯å›¾ï¼‰ï¼Œç³»ç»Ÿç°åœ¨ä¹Ÿèƒ½åŸºäºâ€œè§†è§‰æè¿°â€ç†è§£å†…å®¹ã€‚
*   **èµ›é“è¯†åˆ«**ï¼š
    *   LLM é˜…è¯» `enhanced_text` çš„å‰ 20,000 å­—ã€‚
    *   åˆ¤æ–­é¡¹ç›®å±äºå“ªä¸ªç»†åˆ†èµ›é“ï¼ˆä¾‹å¦‚ï¼šâ€œæ™ºæ…§åŒ»ç–— - AI è¾…åŠ©è¯Šæ–­â€ï¼‰ã€‚
*   **å…³é”®è¯ç”Ÿæˆ**ï¼š
    *   åŸºäºèµ›é“å’Œé¡¹ç›®å†…å®¹ï¼ŒLLM ç”Ÿæˆ 10 ä¸ªä¸­è‹±æ–‡æœç´¢å…³é”®è¯ï¼ˆä¾‹å¦‚ï¼š`"AI Medical Imaging market size"`, `"æŸæŸç«å“ revenue"`ï¼‰ã€‚

#### ç¬¬å››é˜¶æ®µï¼šå…¨ç½‘æƒ…æŠ¥æ£€ç´¢ (Web Search)
**ä»£ç ä½ç½®**ï¼š`agent.py` -> å¾ªç¯è°ƒç”¨ `utils.google_search`

*   ç³»ç»Ÿä½¿ç”¨ `Serper.dev` API å¯¹ç”Ÿæˆçš„å…³é”®è¯è¿›è¡Œ Google æœç´¢ã€‚
*   ç³»ç»Ÿè‡ªåŠ¨æŠ“å–æœç´¢ç»“æœçš„æ ‡é¢˜ã€æ‘˜è¦å’Œ URLã€‚
*   **æ•°æ®æ¸…æ´—**ï¼šç»™æ¯æ¡æœç´¢ç»“æœæ‰“ä¸Š `[S1]`, `[S2]` è¿™æ ·çš„å¼•ç”¨æ ‡ç­¾ï¼Œæ–¹ä¾¿åç»­ç”ŸæˆæŠ¥å‘Šæ—¶æº¯æºã€‚

#### ç¬¬äº”é˜¶æ®µï¼šVC æ¨¡æ‹Ÿä¸æŠ¥å‘Šç”Ÿæˆ (Final Synthesis)
**ä»£ç ä½ç½®**ï¼š`agent.py` -> `analyze_bp_pipeline` (LLM è°ƒç”¨)

è¿™æ˜¯å¤§è„‘æ€è€ƒçš„æœ€åä¸€æ­¥ã€‚

*   **è¾“å…¥ç»™ LLM (DeepSeek) çš„æœ€ç»ˆæç¤ºè¯åŒ…å«ä¸‰éƒ¨åˆ†**ï¼š
    1.  **ç³»ç»Ÿäººè®¾ (System Prompt)**ï¼šä½ æ˜¯ä¸€ä¸ªä¸¥å‰çš„ VC åˆä¼™äººï¼Œå¿…é¡»è¿›è¡Œå¼•ç”¨æº¯æºï¼Œå¿…é¡»è¿›è¡Œé£é™©æ‰¹åˆ¤ã€‚
    2.  **å¢å¼ºæ–‡æœ¬**ï¼šPDF åŸæ–‡ + å›¾è¡¨æè¿°ã€‚
    3.  **æœç´¢æƒ…æŠ¥**ï¼šGoogle æœåˆ°çš„å¸‚åœºæ•°æ®å’Œç«å“ä¿¡æ¯ã€‚
*   **ä»»åŠ¡**ï¼š
    *   æå–é¡¹ç›®ç”»åƒã€‚
    *   ç»“åˆæœç´¢åˆ°çš„æ•°æ®ï¼Œè®¡ç®—å¸‚åœºè§„æ¨¡ã€‚
    *   å¯»æ‰¾ç«å“ï¼ˆå¦‚æœ BP æ²¡å†™ï¼Œå°±ä»æœç´¢ç»“æœé‡Œæ‰¾ï¼‰ã€‚
    *   è¿›è¡Œâ€œVC çµé­‚æ‹·é—®â€ã€‚
    *   è¾“å‡ºä¸¥æ ¼çš„ JSON æ ¼å¼æ•°æ®ã€‚

#### ç¬¬å…­é˜¶æ®µï¼šå±•ç¤ºä¸æ¸²æŸ“
**ä»£ç ä½ç½®**ï¼š`app.py`

*   æ¥æ”¶ JSON æ•°æ®ã€‚
*   è§£æ JSONï¼Œå°†å…¶è½¬æ¢ä¸º Markdown æ ¼å¼ï¼ˆæ·»åŠ æ ‡é¢˜ã€åŠ ç²—ã€å¼•ç”¨ä¸Šæ ‡ï¼‰ã€‚
*   åœ¨æµè§ˆå™¨ç•Œé¢ï¼ˆGradioï¼‰å±•ç¤ºâ€œç ”æŠ¥è§†å›¾â€å’Œâ€œåŸå§‹æ•°æ®â€ã€‚

---

### âš¡ï¸ æ€»ç»“ï¼šæ•°æ®æµå‘å›¾

```mermaid
graph TD
    User[ç”¨æˆ·ä¸Šä¼  PDF] --> App[app.py]
    App --> Agent[agent.py: BusinessResearcher]
    
    subgraph PDFå¤„ç† [utils.py]
        Agent --> Extract{æå–å†…å®¹}
        Extract --> Text[çº¯æ–‡æœ¬]
        Extract --> ImgRaw[åŸå§‹å›¾ç‰‡]
        ImgRaw --> Optimize[ç¼©æ”¾+å‹ç¼© (JPEG Q75)]
        Optimize --> ImgBase64[Base64å›¾ç‰‡æµ]
    end
    
    subgraph è§†è§‰æ™ºèƒ½ [Vision Model]
        ImgBase64 --> VisionLLM[Qwen-VL-Plus]
        VisionLLM --> VisualDesc[è§†è§‰æè¿°æ–‡æœ¬]
    end
    
    subgraph èåˆä¸æœç´¢
        Text --> Merge((æ‹¼æ¥))V
        VisualDesc --> Merge
        Merge --> EnhancedText[å¢å¼ºæ–‡æœ¬]
        
        EnhancedText --> Detect[è¯†åˆ«èµ›é“ & ç”Ÿæˆå…³é”®è¯]
        Detect --> SearchAPI[Google Search (Serper)]
        SearchAPI --> SearchData[å¤–éƒ¨æƒ…æŠ¥]
    end
    
    subgraph æœ€ç»ˆåˆ†æ [DeepSeek Chat]
        EnhancedText --> FinalPrompt
        SearchData --> FinalPrompt
        SystemPrompt --> FinalPrompt
        FinalPrompt --> MainLLM[DeepSeek V3]
        MainLLM --> JSON[åˆ†ææŠ¥å‘Š JSON]
    end
    
    JSON --> App
    App --> MarkDown[Markdown æ¸²æŸ“]
```